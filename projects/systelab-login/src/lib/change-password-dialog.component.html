<systelab-dialog-header (close)="close()">{{'COMMON_CHANGE_PASSWORD' | translate | async }}</systelab-dialog-header>
<div class="slab-change-password slab-flex-1">
    <form class="w-100 h-100 p-3" (keypress)="($event.which === 13 && isOK()) ? changePassword() : 0"
          autocomplete="off">


        <div class="row mt-1">
            <label for="form-h-it" class="col-md-6 col-form-label">{{ 'LOGIN_ENTER_OLDPASSWORD' |
                translate | async}}</label>
            <div class="col-md-6">
                <input autofocus class="form-control" [(ngModel)]="oldPassword" name="oldpassword" type="password" id="form-h-it">
            </div>
        </div>

        <div class="row mt-1">
            <label for="form-h-ip" class="col-md-6 col-form-label">{{ 'LOGIN_ENTER_NEWPASSWORD' | translate | async}}</label>
            <div class="col-md-6">
                <input class="form-control" [(ngModel)]="newPassword" name="newpassword" type="password" id="form-h-ip">
            </div>
        </div>

        <div class="row mt-1">
            <label for="form-h-ir" class="col-md-6 col-form-label">{{ 'LOGIN_REPEAT_NEWPASSWORD' | translate | async}}</label>
            <div class="col-md-6">
                <input class="form-control" [(ngModel)]="repeatedPassword" name="repeatedPassword"
                       [class.is-invalid]="checkNewRepeatedPassword()" type="password" id="form-h-ir">
            </div>
        </div>

        <systelab-password-indicator #passwordIndicator [minPasswordStrengthValue]="parameters.minPasswordStrengthValue" [password]="newPassword"></systelab-password-indicator>

    </form>
</div>
<systelab-dialog-bottom>
    <button type="button" class="btn ml-auto"
            [disabled]="!isOK() || !passwordIndicator.isOK()"
            (click)="changePassword()">{{ 'COMMON_SUBMIT' | translate | async}}
    </button>
</systelab-dialog-bottom>
